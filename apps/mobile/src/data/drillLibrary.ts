import type { BoxingDrill } from '@/types';

export const drillLibrary: BoxingDrill[] = [
  // Fundamentals
  {
    id: 'stance_check',
    name: 'Stance Check Drill',
    description:
      'Practice maintaining proper boxing stance with correct weight distribution and balance',
    category: 'fundamentals',
    difficulty: 'beginner',
    targetTechniques: ['stance'],
    addressesRootCauses: ['stance_width', 'weight_distribution', 'balance_issues'],
    duration: 5,
    equipment: ['mirror'],
    steps: [
      { order: 1, instruction: 'Stand in front of a mirror in your fighting stance', duration: 30 },
      {
        order: 2,
        instruction: 'Check that your feet are shoulder-width apart',
        tips: ['Lead foot points forward', 'Rear foot at 45 degrees'],
      },
      { order: 3, instruction: 'Verify weight is 50/50 on both legs', duration: 30 },
      { order: 4, instruction: 'Bend knees slightly, keep chin down', duration: 30 },
      { order: 5, instruction: 'Hold position for 30 seconds, checking all points' },
    ],
    tips: [
      'Your rear heel should be slightly raised',
      'Keep your chin tucked behind your lead shoulder',
      'Hands up, elbows tight to body',
    ],
    commonMistakes: ['Feet too narrow or too wide', 'Weight too far forward', 'Locked knees'],
  },
  {
    id: 'guard_position',
    name: 'Guard Position Practice',
    description: 'Develop muscle memory for maintaining a tight, protective guard position',
    category: 'fundamentals',
    difficulty: 'beginner',
    targetTechniques: ['guard'],
    addressesRootCauses: ['guard_position', 'elbow_flare', 'chin_exposure'],
    duration: 5,
    equipment: ['mirror'],
    steps: [
      {
        order: 1,
        instruction: 'Raise both hands to chin level',
        tips: ['Fists should be about 4 inches from face'],
      },
      { order: 2, instruction: 'Tuck elbows tight against your body', duration: 20 },
      { order: 3, instruction: 'Touch your chin to your lead shoulder', duration: 20 },
      { order: 4, instruction: 'Hold guard position while breathing deeply', duration: 60 },
      { order: 5, instruction: 'Relax and repeat 5 times' },
    ],
    tips: [
      'Imagine holding a towel between your elbows and body',
      'Keep wrists straight, not bent',
      'Relax your shoulders - tension wastes energy',
    ],
    commonMistakes: ['Elbows flared out', 'Hands too low', 'Chin raised and exposed'],
  },
  // Offense
  {
    id: 'jab_drill',
    name: 'Jab Perfection Drill',
    description: 'Master the most important punch in boxing - the jab',
    category: 'offense',
    difficulty: 'beginner',
    targetTechniques: ['jab'],
    addressesRootCauses: ['telegraphing', 'hip_rotation', 'shoulder_turn', 'recovery_position'],
    duration: 10,
    equipment: ['none'],
    steps: [
      { order: 1, instruction: 'Start in proper stance with guard up' },
      {
        order: 2,
        instruction: 'Extend your lead hand straight out',
        tips: ['Turn fist at end of extension'],
      },
      { order: 3, instruction: 'Snap it back to guard position immediately' },
      { order: 4, instruction: 'Practice 20 slow jabs focusing on form', reps: 20 },
      { order: 5, instruction: 'Increase speed gradually for 30 more', reps: 30 },
      { order: 6, instruction: 'Rest 30 seconds, then repeat 3 sets', duration: 30 },
    ],
    tips: [
      'Keep your rear hand glued to your chin',
      'Shoulder should raise to protect chin on extension',
      'Exhale sharply with each jab',
    ],
    commonMistakes: [
      'Dropping the rear hand',
      'Winding up before throwing',
      'Not returning hand to guard',
    ],
    progressionDrills: ['double_jab', 'jab_cross'],
  },
  {
    id: 'cross_power',
    name: 'Power Cross Development',
    description: 'Build power and technique in your rear straight punch',
    category: 'offense',
    difficulty: 'intermediate',
    targetTechniques: ['cross'],
    addressesRootCauses: ['hip_rotation', 'shoulder_turn', 'weight_distribution'],
    duration: 10,
    equipment: ['heavy_bag'],
    steps: [
      { order: 1, instruction: 'Set up in stance facing the bag' },
      { order: 2, instruction: 'Pivot on rear foot, driving from the ground' },
      { order: 3, instruction: 'Rotate hips fully toward target' },
      { order: 4, instruction: 'Extend rear hand straight, turning fist' },
      {
        order: 5,
        instruction: 'Return immediately to guard',
        tips: ['Snap back, dont let it float'],
      },
      { order: 6, instruction: 'Practice 10 crosses, focusing on hip rotation', reps: 10 },
    ],
    tips: [
      'Power comes from your legs and hips, not your arm',
      'Your rear heel should come off the ground',
      'Keep lead hand up protecting your chin',
    ],
    commonMistakes: ['Punching with arm only', 'Dropping lead hand', 'Leaning too far forward'],
    regressionDrills: ['jab_drill'],
    progressionDrills: ['jab_cross'],
  },
  {
    id: 'hook_technique',
    name: 'Lead Hook Mechanics',
    description: 'Develop proper form for the devastating lead hook',
    category: 'offense',
    difficulty: 'intermediate',
    targetTechniques: ['hook'],
    addressesRootCauses: ['hip_rotation', 'elbow_flare', 'balance_issues'],
    duration: 10,
    equipment: ['heavy_bag'],
    steps: [
      { order: 1, instruction: 'Start in stance, weight centered' },
      { order: 2, instruction: 'Pivot on lead foot, rotating hips toward target' },
      { order: 3, instruction: 'Keep elbow at 90 degrees throughout' },
      { order: 4, instruction: 'Punch through the target, not at it' },
      { order: 5, instruction: 'Practice slow hooks focusing on body mechanics', reps: 20 },
      { order: 6, instruction: 'Increase speed while maintaining form', reps: 20 },
    ],
    tips: [
      'Your palm can face down or toward you - find what works',
      'Think of hooking your arm around a post',
      'Power comes from hip rotation, not arm swing',
    ],
    commonMistakes: [
      'Arm too straight (becomes a slap)',
      'Dropping hands before throwing',
      'Not pivoting on lead foot',
    ],
  },
  {
    id: 'uppercut_drill',
    name: 'Uppercut Foundation',
    description: 'Learn proper uppercut mechanics for inside fighting',
    category: 'offense',
    difficulty: 'intermediate',
    targetTechniques: ['uppercut'],
    addressesRootCauses: ['hip_rotation', 'weight_distribution'],
    duration: 10,
    equipment: ['heavy_bag'],
    steps: [
      { order: 1, instruction: 'Start in stance with proper guard' },
      { order: 2, instruction: 'Dip slightly on the side youre punching' },
      { order: 3, instruction: 'Drive upward with your legs while rotating palm up' },
      { order: 4, instruction: 'Keep elbow close to body throughout' },
      { order: 5, instruction: 'Return to guard immediately' },
      { order: 6, instruction: 'Practice lead uppercuts then rear', reps: 20 },
    ],
    tips: [
      'The power comes from legs driving up',
      'Keep your other hand protecting your chin',
      'Dont telegraph by dipping too much',
    ],
    commonMistakes: [
      'Throwing uppercut from too far away',
      'Looping the punch (should be vertical)',
      'Dropping the non-punching hand',
    ],
  },
  // Defense
  {
    id: 'slip_drill',
    name: 'Slip Training',
    description: 'Practice slipping punches by moving your head off the center line',
    category: 'defense',
    difficulty: 'beginner',
    targetTechniques: ['defense', 'head_movement'],
    addressesRootCauses: ['chin_exposure', 'balance_issues'],
    duration: 8,
    equipment: ['slip_bag'],
    steps: [
      { order: 1, instruction: 'Stand in stance facing the slip bag' },
      { order: 2, instruction: 'Let the bag swing toward your face' },
      {
        order: 3,
        instruction: 'Bend at the knees and waist to slip left',
        tips: ['Keep eyes on the bag'],
      },
      { order: 4, instruction: 'Return to center and slip right' },
      { order: 5, instruction: 'Practice alternating slips for 3 minutes', duration: 180 },
    ],
    tips: [
      'Move from your waist and knees, not just your head',
      'Stay in range to counter after slipping',
      'Keep your hands up throughout',
    ],
    commonMistakes: [
      'Bending only at waist',
      'Moving too far offline',
      'Closing eyes or looking down',
    ],
    progressionDrills: ['slip_counter'],
  },
  {
    id: 'roll_practice',
    name: 'Bob and Weave Drill',
    description: 'Practice rolling under hooks and coming up in position to counter',
    category: 'defense',
    difficulty: 'intermediate',
    targetTechniques: ['defense', 'head_movement'],
    addressesRootCauses: ['chin_exposure', 'balance_issues', 'footwork_timing'],
    duration: 10,
    equipment: ['none'],
    steps: [
      { order: 1, instruction: 'Start in stance, imagine a hook coming' },
      { order: 2, instruction: 'Bend knees and dip under the imaginary punch' },
      { order: 3, instruction: 'Roll your head in a U shape from one side to another' },
      { order: 4, instruction: 'Come up on the opposite side ready to counter' },
      { order: 5, instruction: 'Repeat continuously for 2 minutes', duration: 120 },
    ],
    tips: [
      'Stay low but balanced throughout the roll',
      'Think of drawing a U with your head',
      'Come up with a counter ready',
    ],
    commonMistakes: [
      'Rolling too slowly',
      'Coming up in wrong position',
      'Not bending knees enough',
    ],
  },
  {
    id: 'parry_timing',
    name: 'Parry and Counter',
    description: 'Learn to deflect straight punches and counter immediately',
    category: 'defense',
    difficulty: 'beginner',
    targetTechniques: ['defense'],
    addressesRootCauses: ['guard_position', 'recovery_position'],
    duration: 8,
    equipment: ['mitts'],
    steps: [
      { order: 1, instruction: 'Partner throws slow jabs at your face' },
      {
        order: 2,
        instruction: 'Use lead hand to tap the punch to the side',
        tips: ['Small movement, dont swat'],
      },
      { order: 3, instruction: 'Immediately counter with your own jab' },
      { order: 4, instruction: 'Practice timing for 2 minutes each side', duration: 120 },
    ],
    tips: [
      'Use minimal movement - just enough to deflect',
      'Counter immediately after parrying',
      'Keep your other hand ready to block or punch',
    ],
    commonMistakes: [
      'Swatting at punches too hard',
      'Moving entire arm instead of small tap',
      'Forgetting to counter',
    ],
  },
  // Footwork
  {
    id: 'ladder_drill',
    name: 'Agility Ladder Footwork',
    description: 'Improve foot speed and coordination with ladder drills',
    category: 'footwork',
    difficulty: 'beginner',
    targetTechniques: ['footwork'],
    addressesRootCauses: ['footwork_timing', 'balance_issues'],
    duration: 10,
    equipment: ['ladder'],
    steps: [
      { order: 1, instruction: 'Run through ladder - one foot per square', duration: 30 },
      { order: 2, instruction: 'Run through - two feet per square', duration: 30 },
      { order: 3, instruction: 'Lateral shuffle through the ladder', duration: 30 },
      { order: 4, instruction: 'In-and-out drill (hop in, hop out each square)', duration: 30 },
      { order: 5, instruction: 'Rest 30 seconds between each pattern', duration: 30 },
    ],
    tips: [
      'Focus on quick, light feet',
      'Keep your hands up in guard position',
      'Look ahead, not at your feet',
    ],
    commonMistakes: [
      'Looking down at feet',
      'Heavy, flat-footed steps',
      'Dropping hands while doing drill',
    ],
  },
  {
    id: 'pivot_practice',
    name: 'Pivot Drill',
    description: 'Master pivoting to create angles and avoid punches',
    category: 'footwork',
    difficulty: 'intermediate',
    targetTechniques: ['footwork'],
    addressesRootCauses: ['footwork_timing', 'balance_issues'],
    duration: 8,
    equipment: ['none'],
    steps: [
      { order: 1, instruction: 'Start in stance facing forward' },
      { order: 2, instruction: 'Throw a jab, then pivot 45 degrees on lead foot' },
      { order: 3, instruction: 'Your rear foot swings around to complete the pivot' },
      { order: 4, instruction: 'You should now be at an angle to your starting position' },
      { order: 5, instruction: 'Reset and practice both directions', reps: 20 },
    ],
    tips: [
      'Stay on the balls of your feet',
      'Keep your balance centered during pivot',
      'End in a solid stance position',
    ],
    commonMistakes: [
      'Crossing feet during pivot',
      'Standing up tall while pivoting',
      'Pivoting without punching',
    ],
  },
  {
    id: 'angle_work',
    name: 'Cutting Angles',
    description: 'Practice moving at angles to create offensive opportunities',
    category: 'footwork',
    difficulty: 'intermediate',
    targetTechniques: ['footwork'],
    addressesRootCauses: ['footwork_timing'],
    duration: 10,
    equipment: ['none'],
    steps: [
      { order: 1, instruction: 'Imagine opponent in front of you' },
      { order: 2, instruction: 'Step with lead foot to outside of their lead foot' },
      { order: 3, instruction: 'Bring rear foot to maintain stance width' },
      { order: 4, instruction: 'Youre now at an angle to throw shots' },
      { order: 5, instruction: 'Practice stepping to both sides', reps: 20 },
    ],
    tips: [
      'Small, quick steps work best',
      'Stay in punching range',
      'Hands stay up during movement',
    ],
    commonMistakes: ['Steps too big', 'Moving out of range', 'Crossing feet'],
  },
  // Conditioning
  {
    id: 'rope_skipping',
    name: 'Jump Rope Conditioning',
    description: 'Build stamina and footwork with jump rope training',
    category: 'conditioning',
    difficulty: 'beginner',
    targetTechniques: ['footwork'],
    addressesRootCauses: ['footwork_timing', 'balance_issues'],
    duration: 15,
    equipment: ['jump_rope'],
    steps: [
      { order: 1, instruction: 'Basic bounce - jump with both feet', duration: 60 },
      { order: 2, instruction: 'Alternate feet - like running in place', duration: 60 },
      { order: 3, instruction: 'High knees variation', duration: 60 },
      { order: 4, instruction: 'Side to side jumps', duration: 60 },
      { order: 5, instruction: 'Rest 30 seconds, repeat 3 times', duration: 30 },
    ],
    tips: [
      'Keep jumps low - just enough to clear rope',
      'Stay on balls of feet',
      'Keep elbows close to body, turn rope with wrists',
    ],
    commonMistakes: ['Jumping too high', 'Using arms to turn rope', 'Looking down at feet'],
  },
  {
    id: 'shadow_boxing',
    name: 'Shadow Boxing Rounds',
    description: 'Practice technique and combinations without equipment',
    category: 'conditioning',
    difficulty: 'beginner',
    targetTechniques: ['stance', 'guard', 'jab', 'cross', 'hook', 'footwork'],
    addressesRootCauses: [
      'weight_distribution',
      'hip_rotation',
      'footwork_timing',
      'recovery_position',
    ],
    duration: 12,
    equipment: ['none'],
    steps: [
      { order: 1, instruction: 'Round 1: Focus on stance and movement', duration: 180 },
      { order: 2, instruction: 'Rest', duration: 60 },
      { order: 3, instruction: 'Round 2: Add jabs and crosses', duration: 180 },
      { order: 4, instruction: 'Rest', duration: 60 },
      { order: 5, instruction: 'Round 3: Full combinations with defense', duration: 180 },
      { order: 6, instruction: 'Rest', duration: 60 },
    ],
    tips: [
      'Visualize an opponent in front of you',
      'Use full range of motion on punches',
      'Mix in head movement and footwork',
    ],
    commonMistakes: [
      'Just throwing punches without moving',
      'Not visualizing an opponent',
      'Dropping hands between combinations',
    ],
  },
  // Combinations
  {
    id: 'jab_cross',
    name: '1-2 Combination',
    description: 'Master the most fundamental boxing combination',
    category: 'combinations',
    difficulty: 'beginner',
    targetTechniques: ['jab', 'cross', 'combinations'],
    addressesRootCauses: ['hip_rotation', 'recovery_position', 'telegraphing'],
    duration: 10,
    equipment: ['heavy_bag'],
    steps: [
      { order: 1, instruction: 'Start in proper stance' },
      { order: 2, instruction: 'Throw a sharp jab' },
      { order: 3, instruction: 'Immediately follow with a cross', tips: ['One fluid motion'] },
      { order: 4, instruction: 'Return both hands to guard' },
      { order: 5, instruction: 'Practice slowly until smooth', reps: 20 },
      { order: 6, instruction: 'Increase speed maintaining technique', reps: 30 },
    ],
    tips: [
      'The jab sets up the cross',
      'Cross should land as jab returns',
      'Hip rotation on the cross is key',
    ],
    commonMistakes: [
      'Pausing between jab and cross',
      'Not rotating hips on cross',
      'Forgetting to return to guard',
    ],
  },
  {
    id: 'double_jab',
    name: 'Double Jab Drill',
    description: 'Learn to double up on your jab for versatile offense',
    category: 'combinations',
    difficulty: 'beginner',
    targetTechniques: ['jab', 'combinations'],
    addressesRootCauses: ['recovery_position', 'telegraphing'],
    duration: 8,
    equipment: ['none'],
    steps: [
      { order: 1, instruction: 'Throw two quick jabs in succession' },
      { order: 2, instruction: 'First jab to the face, second to body (or vice versa)' },
      { order: 3, instruction: 'Keep rear hand glued to chin' },
      { order: 4, instruction: 'Practice 20 double jabs focusing on speed', reps: 20 },
    ],
    tips: [
      'Both jabs should be fast and snappy',
      'Can vary levels - head/body or body/head',
      'Great for measuring distance',
    ],
    commonMistakes: ['Second jab too slow', 'Dropping rear hand', 'Not varying levels'],
  },
  {
    id: 'three_punch_combo',
    name: '1-2-3 Combination',
    description: 'Add the lead hook to your basic combination',
    category: 'combinations',
    difficulty: 'intermediate',
    targetTechniques: ['jab', 'cross', 'hook', 'combinations'],
    addressesRootCauses: ['hip_rotation', 'recovery_position'],
    duration: 12,
    equipment: ['heavy_bag'],
    steps: [
      { order: 1, instruction: 'Jab (1)' },
      { order: 2, instruction: 'Cross (2)' },
      { order: 3, instruction: 'Lead hook (3)' },
      { order: 4, instruction: 'Return to guard' },
      { order: 5, instruction: 'Practice slowly, focusing on flow', reps: 15 },
      { order: 6, instruction: 'Build speed while maintaining form', reps: 25 },
    ],
    tips: [
      'Each punch flows into the next',
      'The cross sets up the hook',
      'Stay balanced throughout',
    ],
    commonMistakes: [
      'Stopping between punches',
      'Hook is too loopy',
      'Leaning too far forward on cross',
    ],
  },
];

export function getDrillById(id: string): BoxingDrill | undefined {
  return drillLibrary.find((drill) => drill.id === id);
}

export function getDrillsByCategory(category: string): BoxingDrill[] {
  return drillLibrary.filter((drill) => drill.category === category);
}

export function getDrillsForRootCause(rootCause: string): BoxingDrill[] {
  return drillLibrary.filter((drill) => drill.addressesRootCauses.includes(rootCause as any));
}

export function getDrillsForTechnique(technique: string): BoxingDrill[] {
  return drillLibrary.filter((drill) => drill.targetTechniques.includes(technique as any));
}
